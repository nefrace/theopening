[gd_scene load_steps=12 format=4 uid="uid://dc54h3tyhiro3"]

[ext_resource type="PackedScene" uid="uid://b4q4sljsrabqf" path="res://Entities/Player/player.tscn" id="2_tyu3i"]
[ext_resource type="TileSet" uid="uid://rxtvhy2bu531" path="res://Assets/Tileset.tres" id="3_xqney"]
[ext_resource type="PackedScene" uid="uid://durcet21wu7hc" path="res://Entities/Utils/LevelSwitcher/level_switcher.tscn" id="4_v8e37"]
[ext_resource type="PackedScene" uid="uid://60g2ndb2rrx6" path="res://Entities/Items/Lamp/Lamp.tscn" id="5_krkj3"]
[ext_resource type="PackedScene" uid="uid://fnxenqhvxe6q" path="res://Entities/StandingLight/Light.tscn" id="6_cya67"]
[ext_resource type="PackedScene" uid="uid://bygfc8w3ngsk4" path="res://Assets/Shaders/shader_overlay.tscn" id="7_ci4l7"]
[ext_resource type="PackedScene" uid="uid://c4iyrjrb0k52l" path="res://Entities/Gate/gate.tscn" id="8_mnfqr"]
[ext_resource type="Script" path="res://Managers/lights_door_opener.gd" id="10_hvoj3"]
[ext_resource type="PackedScene" uid="uid://ulv4q3ww86sc" path="res://UI/PauseMenu/PauseMenu.tscn" id="10_l25ry"]

[sub_resource type="GDScript" id="GDScript_xclyy"]
script/source = "extends Node2D


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	GameTimer.start()


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4t8v2"]
size = Vector2(32, 16)

[node name="FirstRooms" type="Node2D"]
y_sort_enabled = true
script = SubResource("GDScript_xclyy")

[node name="Player" parent="." node_paths=PackedStringArray("holdingItem") instance=ExtResource("2_tyu3i")]
position = Vector2(96, 112)
holdingItem = NodePath("../Lamp")

[node name="Hand" parent="Player/HitArea" index="1"]
remote_path = NodePath("../../../Lamp")

[node name="Camera2D" type="Camera2D" parent="Player"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAAAAAAAQAIAAUAAAAAAAEAAQAIAAUAAAAAAAIAAQAIAAUAAAAAAAMAAQAIAAUAAAAAAAQAAQAIAAQAAAABAAAABAANAAQAAAABAAEABAANAAQAAAABAAIABAANAAQAAAABAAMABAANAAQAAAABAAQAAQAFAAQAAAACAAAABAANAAQAAAACAAEABAANAAQAAAACAAIABAANAAQAAAACAAMABAANAAQAAAACAAQAAQAFAAQAAAADAAAABAANAAQAAAADAAEABAAOAAYAAAADAAIABAANAAQAAAADAAMABAANAAQAAAADAAQAAQAFAAQAAAADAAUAAQAEAAUAAAADAAYAAQAEAAUAAAADAAcAAQAEAAUAAAADAAgAAQAEAAQAAAAEAAAABAANAAQAAAAEAAEABAANAAQAAAAEAAIABAANAAQAAAAEAAMABAANAAQAAAAEAAQAAQAFAAgAAAAEAAUAAQAGAAcAAAAEAAYAAQAGAAcAAAAEAAcAAQAGAAcAAAAEAAgAAQAFAAQAAAAFAAAABAANAAQAAAAFAAEABAANAAQAAAAFAAIABAANAAQAAAAFAAMABAANAAQAAAAFAAQABAANAAQAAAAFAAUAAQAGAAcAAAAFAAYAAQAGAAcAAAAFAAcAAQAGAAcAAAAFAAgAAQAFAAQAAAABAPz/BAANAAQAAAABAP3/BAANAAQAAAABAP7/BAANAAQAAAABAP//BAANAAQAAAACAPz/BAANAAQAAAACAP3/BAANAAQAAAACAP7/BAANAAQAAAACAP//BAANAAQAAAADAPz/BAANAAQAAAADAP3/BAANAAQAAAADAP7/BAANAAQAAAADAP//BAANAAQAAAAEAPz/BAANAAQAAAAEAP3/BAANAAQAAAAEAP7/BAANAAQAAAAEAP//BAANAAQAAAAFAPz/BAANAAQAAAAFAP3/BAANAAQAAAAFAP7/BAANAAQAAAAFAP//BAANAAQAAAAAAP//BAARAAYAAAAAAP7/BAARAAYAAAAAAP3/BAARAAYAAAAAAPz/BAARAAYAAAAAAPv/BAAVAAUAAAABAPv/BAATAAUAAAACAPv/BAATAAUAAAADAPv/BAATAAUAAAAEAPv/BAATAAUAAAAEAPr/BAASAAgAAAADAPb/BAARAAQAAAADAPf/BAARAAUAAAADAPj/BAARAAYAAAADAPn/BAARAAcAAAADAPr/BAARAAgAAAAEAPb/BAASAAQAAAAEAPf/BAASAAUAAAAEAPj/BAASAAYAAAAEAPn/BAASAAcAAAAFAPb/BAATAAQAAAAFAPf/BAATAAUAAAAFAPj/BAAKABoAAAAFAPn/BAATAAcAAAAFAPr/BAATAAgAAAAAAPr/BAARAAQAAAAFAPv/BAATAAYAAAABAPr/BAATAAQAAAACAPr/BAATAAQAAAAHAPb/BAAUAAQAAAAHAPf/BAAUAAUAAAAHAPj/BAAUAAYAAAAHAPn/BAAUAAcAAAAHAPr/BAAUAAgAAAAHAPv/BAATAAUAAAAHAPz/BAANAAQAAAAHAP3/BAANAAQAAAAHAP7/BAANAAQAAAAHAP//BAANAAQAAAAHAAAABAANAAQAAAAHAAEABAANAAQAAAAHAAIABAANAAQAAAAHAAMABAANAAQAAAAHAAQAAQAFAAgAAAAHAAUAAQAGAAcAAAAHAAYAAQAGAAcAAAAHAAcAAQAGAAcAAAAHAAgAAQAFAAQAAAAIAPr/BAAVAAgAAAAIAPv/BAATAAUAAAAIAPz/BAANAAQAAAAIAP3/BAANAAQAAAAIAP7/BAANAAQAAAAIAP//BAAOAAYAAAAIAAAABAANAAQAAAAIAAEABAANAAQAAAAIAAIABAANAAQAAAAIAAMABAAOAAYAAAAIAAQAAQAFAAQAAAAJAPr/BAATAAQAAAAJAPv/BAATAAUAAAAJAPz/BAANAAQAAAAJAP3/BAANAAQAAAAJAP7/BAANAAQAAAAJAP//BAANAAQAAAAJAAAABAANAAQAAAAJAAEABAANAAQAAAAJAAIABAANAAQAAAAJAAMABAANAAQAAAAJAAQAAQAFAAQAAAAKAPr/BAATAAQAAAAKAPv/BAATAAUAAAAKAPz/BAANAAQAAAAKAP3/BAANAAQAAAAKAP7/BAANAAQAAAAKAP//BAANAAQAAAAKAAAABAANAAQAAAAKAAEABAANAAQAAAAKAAIABAANAAQAAAAKAAMABAANAAQAAAAKAAQAAQAFAAQAAAAIAPb/BAAVAAQAAAAIAPf/BAAVAAUAAAAIAPj/BAAVAAYAAAAIAPn/BAAVAAcAAAAIAAUAAQAIAAUAAAAIAAYAAQAIAAUAAAAIAAcAAQAIAAUAAAAIAAgAAQAIAAQAAAALAPr/BAARAAQAAAALAPv/BAAVAAUAAAALAPz/BAARAAYAAAALAP3/BAARAAYAAAALAP7/BAARAAYAAAALAP//BAARAAYAAAALAAAAAQAIAAUAAAALAAEAAQAIAAUAAAALAAIAAQAIAAUAAAALAAMAAQAIAAUAAAALAAQAAQAIAAQAAAAGAPb/BAATAAQAAAAGAPf/BAATAAUAAAAGAPj/BAAKABoAABAGAPn/BAATAAcAAAAGAPr/BAATAAgAAAAGAPv/BAATAAYAAAAGAPz/BAANAAQAAAAGAP3/BAANAAQAAAAGAP7/BAANAAQAAAAGAP//BAANAAQAAAAGAAAABAANAAQAAAAGAAEABAANAAQAAAAGAAIABAANAAQAAAAGAAMABAANAAQAAAAGAAQABAANAAQAAAAGAAUAAQAGAAcAAAAGAAYAAQAGAAcAAAAGAAcAAQAGAAcAAAAGAAgAAQAFAAQAAAA=")
tile_set = ExtResource("3_xqney")

[node name="LevelSwitcher" parent="TileMapLayer" instance=ExtResource("4_v8e37")]
position = Vector2(88, -120)
new_scene = "res://Scenes/ThirdFloor.tscn"
need_torch = true

[node name="CollisionShape2D" parent="TileMapLayer/LevelSwitcher" index="0"]
position = Vector2(8, -2)
shape = SubResource("RectangleShape2D_4t8v2")

[node name="Lamp" parent="." instance=ExtResource("5_krkj3")]
position = Vector2(102, 117)

[node name="L1" parent="." groups=["Active"] instance=ExtResource("6_cya67")]
position = Vector2(40, -38)

[node name="R1" parent="." groups=["Active"] instance=ExtResource("6_cya67")]
position = Vector2(152, -38)

[node name="L2" parent="." groups=["Active"] instance=ExtResource("6_cya67")]
position = Vector2(40, -6)

[node name="R2" parent="." groups=["Inactive"] instance=ExtResource("6_cya67")]
position = Vector2(152, -6)

[node name="L3" parent="." groups=["Inactive"] instance=ExtResource("6_cya67")]
position = Vector2(40, 26)

[node name="R3" parent="." groups=["Active"] instance=ExtResource("6_cya67")]
position = Vector2(152, 26)

[node name="L4" parent="." groups=["Active"] instance=ExtResource("6_cya67")]
position = Vector2(40, 58)

[node name="R4" parent="." groups=["Inactive"] instance=ExtResource("6_cya67")]
position = Vector2(152, 58)

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0, 0, 0, 1)

[node name="ShaderOverlay" parent="." instance=ExtResource("7_ci4l7")]
visible = false

[node name="EntranceLightDoor" type="Node" parent="."]
script = ExtResource("10_hvoj3")
lights_active = &"Active"
lights_not_active = &"Inactive"
door = NodePath("../Gate")

[node name="Gate" parent="." instance=ExtResource("8_mnfqr")]
position = Vector2(96, -64)

[node name="Pause" parent="." instance=ExtResource("10_l25ry")]

[editable path="Player"]
[editable path="TileMapLayer/LevelSwitcher"]
