[gd_scene load_steps=14 format=4 uid="uid://bb8hst6efh1bc"]

[ext_resource type="PackedScene" uid="uid://ddnu45qq0utpf" path="res://Entities/Rat/Rat.tscn" id="1_ewxij"]
[ext_resource type="PackedScene" uid="uid://b4q4sljsrabqf" path="res://Entities/Player/player.tscn" id="2_xeyox"]
[ext_resource type="TileSet" uid="uid://rxtvhy2bu531" path="res://Assets/Tileset.tres" id="3_l8but"]
[ext_resource type="PackedScene" uid="uid://durcet21wu7hc" path="res://Entities/Utils/LevelSwitcher/level_switcher.tscn" id="4_k1xho"]
[ext_resource type="PackedScene" uid="uid://60g2ndb2rrx6" path="res://Entities/Items/Lamp/Lamp.tscn" id="5_norf6"]
[ext_resource type="PackedScene" uid="uid://fnxenqhvxe6q" path="res://Entities/StandingLight/Light.tscn" id="6_376a8"]
[ext_resource type="PackedScene" uid="uid://bygfc8w3ngsk4" path="res://Assets/Shaders/shader_overlay.tscn" id="7_l5ghm"]
[ext_resource type="PackedScene" uid="uid://b7oymuhg0i48d" path="res://Entities/Gate/door.tscn" id="8_hs2bm"]
[ext_resource type="Script" path="res://Managers/enemies_dead_door_opener.gd" id="9_2oh2d"]
[ext_resource type="PackedScene" uid="uid://vokjw3bmqsh3" path="res://Entities/Bat/Bat.tscn" id="11_fq0ht"]
[ext_resource type="PackedScene" uid="uid://ulv4q3ww86sc" path="res://UI/PauseMenu/PauseMenu.tscn" id="12_o7dk1"]

[sub_resource type="GDScript" id="GDScript_5oj8g"]
script/source = "extends Node2D


 #Called when the node enters the scene tree for the first time.
func _ready() -> void:
	MusicManager.music = MusicManager.noise


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_din7p"]
size = Vector2(16, 16)

[node name="ThirdFloor" type="Node2D"]
y_sort_enabled = true
script = SubResource("GDScript_5oj8g")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0, 0, 0, 1)

[node name="Player" parent="." node_paths=PackedStringArray("holdingItem") instance=ExtResource("2_xeyox")]
position = Vector2(72, 56)
holdingItem = NodePath("../Lamp")

[node name="Hand" parent="Player/HitArea" index="1"]
remote_path = NodePath("../../../Lamp")

[node name="Camera2D" type="Camera2D" parent="Player"]

[node name="Lamp" parent="." instance=ExtResource("5_norf6")]
position = Vector2(78, 61)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAACAAAAAQAEAAQAAAACAAEAAQAEAAUAAAACAAIAAQAEAAYAAAACAAMAAQAEAAcAAAACAAQAAQAEAAgAAAACAAUAAQAEAAkAAAADAAAAAQAFAAQAAAADAAEAAQAFAAUAAAADAAIAAQAFAAYAAAADAAMAAQAFAAcAAAADAAQAAQAFAAgAAAADAAUAAQAFAAkAAAAEAAAAAQAGAAQAAAAEAAEAAQAGAAUAAAAEAAIAAQAGAAYAAAAEAAMAAQAGAAcAAAAEAAQAAQAGAAgAAAAEAAUAAQAFAAYAAAAFAAAAAQAHAAQAAAAFAAEAAQAHAAUAAAAFAAIAAQAHAAYAAAAFAAMAAQAHAAcAAAAFAAQAAQAHAAgAAAAFAAUAAQAFAAkAAAAGAAAAAQAIAAQAAAAGAAEAAQAIAAUAAAAGAAIAAQAIAAYAAAAGAAMAAQAIAAcAAAAGAAQAAQAIAAgAAAAGAAUAAQAEAAkAAAAAAAYAAQAFAAYAAAAAAAcAAQAFAAYAAAAAAAgAAQAFAAYAAAAAAAkAAQAFAAYAAAAAAAoAAQAFAAYAAAAAAAsAAQAFAAYAAAAAAAwAAQAFAAYAAAAAAA0AAQAFAAYAAAABAAYAAQAFAAYAAAABAAcAAQAFAAYAAAABAAgAAQAFAAYAAAABAAkAAQAFAAYAAAABAAoAAQAFAAYAAAABAAsAAQAFAAYAAAABAAwAAQAFAAYAAAABAA0AAQAFAAYAAAACAAYAAQAFAAYAAAACAAcAAQAFAAYAAAACAAgAAQAFAAYAAAACAAkAAQAFAAYAAAACAAoAAQAFAAYAAAACAAsAAQAFAAYAAAACAAwAAQAFAAYAAAACAA0AAQAFAAYAAAADAAYAAQAFAAYAAAADAAcAAQAFAAYAAAADAAgAAQAFAAYAAAADAAkAAQAFAAYAAAADAAoAAQAFAAYAAAADAAsAAQAFAAYAAAADAAwAAQAFAAYAAAADAA0AAQAFAAYAAAAEAAYAAQAFAAYAAAAEAAcAAQAFAAYAAAAEAAgAAQAFAAYAAAAEAAkAAQAFAAYAAAAEAAoAAQAFAAYAAAAEAAsAAQAFAAYAAAAEAAwAAQAFAAYAAAAEAA0AAQAFAAYAAAAFAAYAAQAFAAYAAAAFAAcAAQAFAAYAAAAFAAgAAQAFAAYAAAAFAAkAAQAFAAYAAAAFAAoAAQAFAAYAAAAFAAsAAQAFAAYAAAAFAAwAAQAFAAYAAAAFAA0AAQAFAAYAAAAGAAYAAQAFAAYAAAAGAAcAAQAFAAYAAAAGAAgAAQAFAAYAAAAGAAkAAQAFAAYAAAAGAAoAAQAFAAYAAAAGAAsAAQAFAAYAAAAGAAwAAQAFAAYAAAAGAA0AAQAFAAYAAAAHAAYAAQAFAAYAAAAHAAcAAQAFAAYAAAAHAAgAAQAFAAYAAAAHAAkAAQAFAAYAAAAHAAoAAQAFAAYAAAAHAAsAAQAFAAYAAAAHAAwAAQAFAAYAAAAHAA0AAQAFAAYAAAAIAAYAAQAFAAYAAAAIAAcAAQAFAAYAAAAIAAgAAQAFAAYAAAAIAAkAAQAFAAYAAAAIAAoAAQAFAAYAAAAIAAsAAQAFAAYAAAAIAAwAAQAFAAYAAAAIAA0AAQAFAAYAAAAAAAUAAQAEAAkAAAABAAUAAQAEAAkAAAAHAAUAAQAEAAkAAAAIAAUAAQAEAAkAAAAHAAQAAQAFAAQAAAAIAAQAAQAFAAQAAAAJAAQAAQAIAAQAAAD//wQAAQAIAAQAAAD//w4AAQAIAAQAAAAJAA4AAQAIAAQAAAAJAAUAAQAIAAUAAAAJAAYAAQAIAAUAAAAJAAcAAQAIAAUAAAAJAAgAAQAIAAUAAAAJAAkAAQAIAAUAAAAJAAoAAQAIAAUAAAAJAAsAAQAIAAUAAAAJAAwAAQAIAAUAAAAJAA0AAQAIAAUAAAD//wUAAQAIAAUAAAD//wYAAQAIAAUAAAD//wcAAQAIAAUAAAD//wgAAQAIAAUAAAD//wkAAQAIAAUAAAD//woAAQAIAAUAAAD//wsAAQAIAAUAAAD//wwAAQAIAAUAAAD//w0AAQAIAAUAAAAAAAQAAQAFAAQAAAABAAQAAQAFAAQAAAAAAA4AAQAFAAQAAAABAA4AAQAFAAQAAAACAA4AAQAFAAQAAAADAA4AAQAFAAgAAAAGAA4AAQAFAAQAAAAHAA4AAQAFAAQAAAAIAA4AAQAFAAQAAAAFAA4AAQAFAAgAAAAEAA4AAQAGAAkAAAADAA8AAQAEAAYAAAADABAAAQAEAAYAAAADABEAAQAEAAYAAAADABIAAQAEAAYAAAADABMAAQAEAAgAAAAEABMAAQAGAAQAAAAFABMAAQAGAAQAAAAGABMAAQAGAAQAAAAHABMAAQAGAAQAAAAIABMAAQAGAAQAAAAJABMAAQAGAAQAAAAKABMAAQAGAAQAAAAFABAAAQAIAAQAAAAGABAAAQAGAAQAAAAHABAAAQAGAAQAAAAIABAAAQAGAAQAAAAJABAAAQAGAAQAAAAKABAAAQAGAAQAAAAFAA8AAQAIAAYAAAAEAA8AAQAAAAYAAAAEABAAAQAAAAYAAAAEABEAAQAAAAYAAAAEABIAAQAAAAYAAAAFABEAAQAEAAkAAAAFABIAAQAAAAYAAAAGABIAAQAAAAYAAAAHABIAAQAAAAYAAAAIABIAAQAAAAYAAAAJABIAAQAAAAYAAAAKABIAAQAAAAYAAAAKABEAAQAHAAUAAAAJABEAAQAGAAUAAAAIABEAAQAFAAUAAAAHABEAAQAHAAUAAAAGABEAAQAGAAUAAAALABAAAQAEAAgAAAALABEAAQAIAAkAAAADABQAAQAEAAkAAAAEABQAAQAGAAUAAAAFABQAAQAGAAUAAAAGABQAAQAGAAUAAAAHABQAAQAGAAUAAAAIABQAAQAGAAUAAAAJABQAAQAGAAUAAAAKABQAAQAGAAUAAAALABMAAQAIAAQAAAALABQAAQAEAAUAAAALABIAAQAGAAcAAAAGAA8AAQAFAAUAAAAHAA8AAQAFAAUAAAAIAA8AAQAFAAUAAAAJAA8AAQAIAAkAAAALAA0AAQAEAAQAAAALAA4AAQAEAAYAAAALAA8AAQAEAAcAAAAMAA0AAQAFAAQAAAANAA0AAQAGAAQAAAAOAA0AAQAFAAQAAAAPAA0AAQAGAAQAAAALABUAAQAEAAYAAAALABYAAQAEAAcAAAALABcAAQAEAAgAAAALABgAAQAEAAkAAAAMABcAAQAFAAQAAAANABcAAQAGAAQAAAAOABcAAQAGAAQAAAAPABcAAQAGAAQAAAAPABgAAQAGAAUAAAAOABgAAQAGAAUAAAANABgAAQAGAAUAAAAMABgAAQAGAAUAAAAMAA4AAQAGAAUAAAANAA4AAQAGAAUAAAAOAA4AAQAGAAUAAAAPAA4AAQAGAAUAAAAOABQAAQABAAYAAAAOABMAAQABAAYAAAAOABIAAQABAAYAAAAOABEAAQABAAYAAAAOABAAAQABAAYAAAAOAA8AAQABAAYAAAANAA8AAQABAAYAAAAMAA8AAQABAAYAAAAMABAAAQABAAYAAAAMABEAAQABAAYAAAAMABIAAQABAAYAAAAMABMAAQABAAYAAAAMABQAAQABAAYAAAAMABUAAQABAAYAAAAMABYAAQABAAYAAAANABYAAQABAAYAAAANABUAAQABAAYAAAANABQAAQABAAYAAAANABMAAQABAAYAAAANABIAAQABAAYAAAANABEAAQABAAYAAAANABAAAQABAAYAAAAOABUAAQABAAYAAAAOABYAAQABAAYAAAAPABYAAQABAAYAAAAPABUAAQABAAYAAAAPABQAAQABAAYAAAAPABMAAQABAAYAAAAPABIAAQABAAYAAAAPABEAAQABAAYAAAAPABAAAQABAAYAAAAPAA8AAQABAAYAAAAVAA0AAQAGAAQAAAAVAA4AAQAGAAUAAAAVAA8AAQABAAYAAAAVABAAAQABAAYAAAAVABEAAQABAAYAAAAVABIAAQABAAYAAAAVABMAAQABAAYAAAAVABQAAQABAAYAAAAVABUAAQABAAYAAAAVABYAAQABAAYAAAAVABcAAQAGAAQAAAAVABgAAQAGAAUAAAAWAA0AAQAGAAQAAAAWAA4AAQAGAAUAAAAWAA8AAQABAAYAAAAWABAAAQABAAYAAAAWABEAAQABAAYAAAAWABIAAQABAAYAAAAWABMAAQABAAYAAAAWABQAAQABAAYAAAAWABUAAQABAAYAAAAWABYAAQABAAYAAAAWABcAAQAGAAQAAAAWABgAAQAGAAUAAAAXAA0AAQAHAAQAAAAXAA4AAQAGAAUAAAAXAA8AAQABAAYAAAAXABAAAQABAAYAAAAXABEAAQABAAYAAAAXABIAAQABAAYAAAAXABMAAQABAAYAAAAXABQAAQABAAYAAAAXABUAAQABAAYAAAAXABYAAQABAAYAAAAXABcAAQAGAAQAAAAXABgAAQAGAAUAAAAYAA0AAQAIAAQAAAAYAA4AAQAIAAYAAAAYAA8AAQAIAAYAAAAYABAAAQAEAAQAAAAYABEAAQAEAAkAAAAYABIAAQAAAAYAAAAYABMAAQAIAAQAAAAYABQAAQAEAAUAAAAYABUAAQAEAAYAAAAYABYAAQAEAAcAAAAYABcAAQAIAAgAAAAYABgAAQAIAAkAAAAQAA0AAQAGAAQAAAAQAA4AAQAGAAUAAAAQAA8AAQABAAYAAAAQABAAAQABAAYAAAAQABEAAQABAAYAAAAQABIAAQABAAYAAAAQABMAAQABAAYAAAAQABQAAQABAAYAAAAQABUAAQABAAYAAAAQABYAAQABAAYAAAAQABcAAQAGAAQAAAAQABgAAQAGAAUAAAARAA0AAQAFAAQAAAARAA4AAQAGAAUAAAARAA8AAQABAAYAAAARABAAAQABAAYAAAARABEAAQABAAYAAAARABIAAQABAAYAAAARABMAAQABAAYAAAARABQAAQABAAYAAAARABUAAQABAAYAAAARABYAAQABAAYAAAARABcAAQAGAAQAAAARABgAAQAGAAUAAAASAA0AAQAGAAQAAAASAA4AAQAGAAUAAAASAA8AAQABAAYAAAASABAAAQABAAYAAAASABEAAQABAAYAAAASABIAAQABAAYAAAASABMAAQABAAYAAAASABQAAQABAAYAAAASABUAAQABAAYAAAASABYAAQABAAYAAAASABcAAQAGAAQAAAASABgAAQAGAAUAAAATAA0AAQAGAAQAAAATAA4AAQAGAAUAAAATAA8AAQABAAYAAAATABAAAQABAAYAAAATABEAAQABAAYAAAATABIAAQABAAYAAAATABMAAQABAAYAAAATABQAAQABAAYAAAATABUAAQABAAYAAAATABYAAQABAAYAAAATABcAAQAGAAQAAAATABgAAQAGAAUAAAAUAA0AAQAFAAQAAAAUAA4AAQAGAAUAAAAUAA8AAQABAAYAAAAUABAAAQABAAYAAAAUABEAAQABAAYAAAAUABIAAQABAAYAAAAUABMAAQABAAYAAAAUABQAAQABAAYAAAAUABUAAQABAAYAAAAUABYAAQABAAYAAAAUABcAAQAGAAQAAAAUABgAAQAGAAUAAAAZABAAAQAGAAQAAAAZABEAAQAHAAUAAAAZABIAAQAAAAYAAAAZABMAAQAFAAQAAAAZABQAAQAGAAUAAAAaABAAAQAGAAQAAAAaABEAAQAFAAUAAAAaABIAAQAAAAYAAAAaABMAAQAGAAQAAAAaABQAAQAGAAUAAAAbABAAAQAGAAQAAAAbABEAAQAGAAUAAAAbABIAAQAAAAYAAAAbABMAAQAGAAQAAAAbABQAAQAGAAUAAAAcAA8AAQAEAAYAAAAcABAAAQAEAAQAAAAcABEAAQAHAAUAAAAcABIAAQAAAAYAAAAcABMAAQAGAAQAAAAcABQAAQAGAAUAAAAdAA8AAQAAAAYAAAAdABAAAQAAAAYAAAAdABEAAQAAAAYAAAAdABIAAQAAAAYAAAAdABMAAQAGAAQAAAAdABQAAQAGAAUAAAAeAA8AAQAIAAYAAAAeABAAAQAIAAYAAAAeABEAAQAIAAYAAAAeABIAAQAIAAYAAAAeABMAAQAIAAgAAAAeABQAAQAGAAUAAAAbAAkAAQAEAAQAAAAbAAoAAQAEAAUAAAAbAAsAAQAEAAYAAAAbAAwAAQAEAAcAAAAbAA0AAQAEAAgAAAAbAA4AAQAEAAkAAAAcAAkAAQAFAAQAAAAcAAoAAQAFAAUAAAAcAAsAAQAFAAYAAAAcAAwAAQAFAAcAAAAcAA0AAQAFAAgAAAAcAA4AAQAEAAUAAAAdAAkAAQAGAAQAAAAdAAoAAQAGAAUAAAAdAAsABAAKABkAAAAdAAwAAQAGAAcAAAAdAA0AAQAGAAgAAAAdAA4AAQAGAAkAAAAeAAkAAQAHAAQAAAAeAAoAAQAHAAUAAAAeAAsAAQAHAAYAAAAeAAwAAQAHAAcAAAAeAA0AAQAHAAgAAAAeAA4AAQAEAAUAAAAfAAkAAQAIAAQAAAAfAAoAAQAIAAUAAAAfAAsAAQAIAAYAAAAfAAwAAQAIAAcAAAAfAA0AAQAIAAgAAAAfAA4AAQAIAAkAAAA=")
tile_set = ExtResource("3_l8but")

[node name="TileMapLayer" type="TileMapLayer" parent="TileMapLayer"]
tile_map_data = PackedByteArray("AAABAAYABAACAB0AAAAAAA0ABAAEAB4AAAAHAAgABAAEAB4AABACAAcABAAEAB4AAAAGAAwABAADAB4AAAAHAA0ABAADABwAAFANAA8ABAAEAB4AAAAXABYABAAEAB4AABAPABQABAAEAB4AAAAXAA8ABAAEAB4AAAAPAA8ABAACAB0AAAAXABUABAACAB0AAAAMABQABAACAB0AAAA=")
tile_set = ExtResource("3_l8but")

[node name="LevelSwitcher" parent="TileMapLayer" instance=ExtResource("4_k1xho")]
position = Vector2(472, 184)
new_scene = "res://Scenes/PuzzleRoom.tscn"
need_torch = true

[node name="CollisionShape2D" parent="TileMapLayer/LevelSwitcher" index="0"]
shape = SubResource("RectangleShape2D_din7p")

[node name="ShaderOverlay" parent="." instance=ExtResource("7_l5ghm")]
visible = false

[node name="EnemiesDeadDoorOpener" type="Node" parent="." groups=["FirstRats"]]
script = ExtResource("9_2oh2d")
door = NodePath("../Doors/SecondDoor")

[node name="EntranceBatsTrigger" type="Node" parent="." groups=["Bats"]]
script = ExtResource("9_2oh2d")
door = NodePath("../Doors/Door")

[node name="Rats" type="Node" parent="."]

[node name="Rat" parent="Rats" groups=["FirstRats"] instance=ExtResource("1_ewxij")]
position = Vector2(336, 264)

[node name="Rat2" parent="Rats" groups=["FirstRats"] instance=ExtResource("1_ewxij")]
position = Vector2(352, 296)

[node name="Rat3" parent="Rats" groups=["FirstRats"] instance=ExtResource("1_ewxij")]
position = Vector2(336, 320)

[node name="Rat4" parent="Rats" groups=["FirstRats"] instance=ExtResource("1_ewxij")]
position = Vector2(320, 344)

[node name="Rat5" parent="Rats" groups=["FirstRats"] instance=ExtResource("1_ewxij")]
position = Vector2(360, 344)

[node name="Rat6" parent="Rats" groups=["FirstRats"] instance=ExtResource("1_ewxij")]
position = Vector2(360, 256)

[node name="Rat7" parent="Rats" groups=["FirstRats"] instance=ExtResource("1_ewxij")]
position = Vector2(320, 296)

[node name="Rat8" parent="Rats" groups=["FirstRats"] instance=ExtResource("1_ewxij")]
position = Vector2(312, 256)

[node name="Lights" type="Node" parent="."]

[node name="Light3" parent="Lights" instance=ExtResource("6_376a8")]
position = Vector2(288, 304)

[node name="Doors" type="Node" parent="."]

[node name="SecondDoor" parent="Doors" instance=ExtResource("8_hs2bm")]
position = Vector2(392, 304)

[node name="Door" parent="Doors" instance=ExtResource("8_hs2bm")]
position = Vector2(72, 240)

[node name="Bat" parent="." groups=["Bats"] instance=ExtResource("11_fq0ht")]
position = Vector2(24, 160)

[node name="Bat2" parent="." groups=["Bats"] instance=ExtResource("11_fq0ht")]
position = Vector2(104, 184)

[node name="Bat3" parent="." groups=["Bats"] instance=ExtResource("11_fq0ht")]
position = Vector2(128, 120)

[node name="Pause" parent="." instance=ExtResource("12_o7dk1")]

[editable path="Player"]
[editable path="TileMapLayer/LevelSwitcher"]
